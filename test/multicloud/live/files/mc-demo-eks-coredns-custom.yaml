apiVersion: v1
kind: ConfigMap
metadata:
  name: coredns-custom
  namespace: kube-system
data:
  custom.override: |
        # Return SERVFAIL for empty.com A record
        template IN A empty.com {
          rcode NOERROR
          answer "{{ .Name }} 0 IN A 0.0.0.0"
          authority ""
          additional ""
        }
        # Return REFUSED for refused.com ANY records 
        template IN ANY refused.com {
          rcode REFUSED
        }
        # Return NXDOMAIN for example.com AAAA records
        template ANY AAAA example.com {
          rcode NXDOMAIN
        }
